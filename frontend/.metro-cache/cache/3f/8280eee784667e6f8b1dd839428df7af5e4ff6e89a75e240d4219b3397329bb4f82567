{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../createMMKV/getDefaultMMKVInstance","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":78,"index":121}}],"key":"DiSZT0xdzLAiN93w0d0GfoSFlyA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useMMKVListener = useMMKVListener;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _createMMKVGetDefaultMMKVInstance = require(_dependencyMap[1], \"../createMMKV/getDefaultMMKVInstance\");\n  /**\n   * Listen for changes in the given MMKV storage instance.\n   * If no instance is passed, the default instance will be used.\n   * @param valueChangedListener The function to call whenever a value inside the storage instance changes\n   * @param instance The instance to listen to changes to (or the default instance)\n   *\n   * @example\n   * ```ts\n   * useMMKVListener((key) => {\n   *   console.log(`Value for \"${key}\" changed!`)\n   * })\n   * ```\n   */\n  function useMMKVListener(valueChangedListener, instance) {\n    const ref = (0, _react.useRef)(valueChangedListener);\n    ref.current = valueChangedListener;\n    const mmkv = instance ?? (0, _createMMKVGetDefaultMMKVInstance.getDefaultMMKVInstance)();\n    (0, _react.useEffect)(() => {\n      const listener = mmkv.addOnValueChangedListener(changedKey => {\n        ref.current(changedKey);\n      });\n      return () => listener.remove();\n    }, [mmkv]);\n  }\n});","lineCount":34,"map":[[7,2,16,0,"exports"],[7,9,16,0],[7,10,16,0,"useMMKVListener"],[7,25,16,0],[7,28,16,0,"useMMKVListener"],[7,43,16,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_createMMKVGetDefaultMMKVInstance"],[9,39,2,0],[9,42,2,0,"require"],[9,49,2,0],[9,50,2,0,"_dependencyMap"],[9,64,2,0],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,2,16,7],[23,11,16,16,"useMMKVListener"],[23,26,16,31,"useMMKVListener"],[23,27,16,32,"valueChangedListener"],[23,47,16,52],[23,49,16,54,"instance"],[23,57,16,62],[23,59,16,64],[24,4,17,4],[24,10,17,10,"ref"],[24,13,17,13],[24,16,17,16],[24,20,17,16,"useRef"],[24,26,17,22],[24,27,17,22,"useRef"],[24,33,17,22],[24,35,17,23,"valueChangedListener"],[24,55,17,43],[24,56,17,44],[25,4,18,4,"ref"],[25,7,18,7],[25,8,18,8,"current"],[25,15,18,15],[25,18,18,18,"valueChangedListener"],[25,38,18,38],[26,4,19,4],[26,10,19,10,"mmkv"],[26,14,19,14],[26,17,19,17,"instance"],[26,25,19,25],[26,29,19,29],[26,33,19,29,"getDefaultMMKVInstance"],[26,66,19,51],[26,67,19,51,"getDefaultMMKVInstance"],[26,89,19,51],[26,91,19,52],[26,92,19,53],[27,4,20,4],[27,8,20,4,"useEffect"],[27,14,20,13],[27,15,20,13,"useEffect"],[27,24,20,13],[27,26,20,14],[27,32,20,20],[28,6,21,8],[28,12,21,14,"listener"],[28,20,21,22],[28,23,21,25,"mmkv"],[28,27,21,29],[28,28,21,30,"addOnValueChangedListener"],[28,53,21,55],[28,54,21,57,"changedKey"],[28,64,21,67],[28,68,21,72],[29,8,22,12,"ref"],[29,11,22,15],[29,12,22,16,"current"],[29,19,22,23],[29,20,22,24,"changedKey"],[29,30,22,34],[29,31,22,35],[30,6,23,8],[30,7,23,9],[30,8,23,10],[31,6,24,8],[31,13,24,15],[31,19,24,21,"listener"],[31,27,24,29],[31,28,24,30,"remove"],[31,34,24,36],[31,35,24,37],[31,36,24,38],[32,4,25,4],[32,5,25,5],[32,7,25,7],[32,8,25,8,"mmkv"],[32,12,25,12],[32,13,25,13],[32,14,25,14],[33,2,26,0],[34,0,26,1],[34,3]],"functionMap":{"names":["<global>","useMMKVListener","useEffect$argument_0","mmkv.addOnValueChangedListener$argument_0","<anonymous>"],"mappings":"AAA;OCe;cCI;wDCC;SDE;eEC,uBF;KDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}