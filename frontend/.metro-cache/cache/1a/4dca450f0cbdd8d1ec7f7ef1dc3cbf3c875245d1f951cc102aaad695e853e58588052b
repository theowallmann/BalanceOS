{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../createMMKV/getDefaultMMKVInstance","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":78,"index":112}}],"key":"DiSZT0xdzLAiN93w0d0GfoSFlyA=","exportNames":["*"],"imports":1}},{"name":"./useMMKVListener","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":52,"index":165}}],"key":"joIQSjk7PEfJZ05EtSkw5JFTclA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useMMKVKeys = useMMKVKeys;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _createMMKVGetDefaultMMKVInstance = require(_dependencyMap[1], \"../createMMKV/getDefaultMMKVInstance\");\n  var _useMMKVListener = require(_dependencyMap[2], \"./useMMKVListener\");\n  /**\n   * Get a list of all keys that exist in the given MMKV {@linkcode instance}.\n   * The keys update when new keys are added or removed.\n   * @param instance The instance to listen to changes to (or the default instance)\n   *\n   * @example\n   * ```ts\n   * useMMKVKeys(instance)\n   * ```\n   */\n  function useMMKVKeys(instance) {\n    const mmkv = instance ?? (0, _createMMKVGetDefaultMMKVInstance.getDefaultMMKVInstance)();\n    const [allKeys, setKeys] = (0, _react.useState)(() => mmkv.getAllKeys());\n    (0, _useMMKVListener.useMMKVListener)(key => {\n      // a key changed\n      setKeys(keys => {\n        const currentlyHasKey = keys.includes(key);\n        const hasKey = mmkv.contains(key);\n        if (hasKey !== currentlyHasKey) {\n          // Re-fetch the keys from native\n          return mmkv.getAllKeys();\n        } else {\n          // We are up-to-date.\n          return keys;\n        }\n      });\n    }, mmkv);\n    return allKeys;\n  }\n});","lineCount":40,"map":[[7,2,14,0,"exports"],[7,9,14,0],[7,10,14,0,"useMMKVKeys"],[7,21,14,0],[7,24,14,0,"useMMKVKeys"],[7,35,14,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_createMMKVGetDefaultMMKVInstance"],[9,39,2,0],[9,42,2,0,"require"],[9,49,2,0],[9,50,2,0,"_dependencyMap"],[9,64,2,0],[10,2,3,0],[10,6,3,0,"_useMMKVListener"],[10,22,3,0],[10,25,3,0,"require"],[10,32,3,0],[10,33,3,0,"_dependencyMap"],[10,47,3,0],[11,2,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,2,14,7],[21,11,14,16,"useMMKVKeys"],[21,22,14,27,"useMMKVKeys"],[21,23,14,28,"instance"],[21,31,14,36],[21,33,14,38],[22,4,15,4],[22,10,15,10,"mmkv"],[22,14,15,14],[22,17,15,17,"instance"],[22,25,15,25],[22,29,15,29],[22,33,15,29,"getDefaultMMKVInstance"],[22,66,15,51],[22,67,15,51,"getDefaultMMKVInstance"],[22,89,15,51],[22,91,15,52],[22,92,15,53],[23,4,16,4],[23,10,16,10],[23,11,16,11,"allKeys"],[23,18,16,18],[23,20,16,20,"setKeys"],[23,27,16,27],[23,28,16,28],[23,31,16,31],[23,35,16,31,"useState"],[23,41,16,39],[23,42,16,39,"useState"],[23,50,16,39],[23,52,16,40],[23,58,16,46,"mmkv"],[23,62,16,50],[23,63,16,51,"getAllKeys"],[23,73,16,61],[23,74,16,62],[23,75,16,63],[23,76,16,64],[24,4,17,4],[24,8,17,4,"useMMKVListener"],[24,24,17,19],[24,25,17,19,"useMMKVListener"],[24,40,17,19],[24,42,17,21,"key"],[24,45,17,24],[24,49,17,29],[25,6,18,8],[26,6,19,8,"setKeys"],[26,13,19,15],[26,14,19,17,"keys"],[26,18,19,21],[26,22,19,26],[27,8,20,12],[27,14,20,18,"currentlyHasKey"],[27,29,20,33],[27,32,20,36,"keys"],[27,36,20,40],[27,37,20,41,"includes"],[27,45,20,49],[27,46,20,50,"key"],[27,49,20,53],[27,50,20,54],[28,8,21,12],[28,14,21,18,"hasKey"],[28,20,21,24],[28,23,21,27,"mmkv"],[28,27,21,31],[28,28,21,32,"contains"],[28,36,21,40],[28,37,21,41,"key"],[28,40,21,44],[28,41,21,45],[29,8,22,12],[29,12,22,16,"hasKey"],[29,18,22,22],[29,23,22,27,"currentlyHasKey"],[29,38,22,42],[29,40,22,44],[30,10,23,16],[31,10,24,16],[31,17,24,23,"mmkv"],[31,21,24,27],[31,22,24,28,"getAllKeys"],[31,32,24,38],[31,33,24,39],[31,34,24,40],[32,8,25,12],[32,9,25,13],[32,15,26,17],[33,10,27,16],[34,10,28,16],[34,17,28,23,"keys"],[34,21,28,27],[35,8,29,12],[36,6,30,8],[36,7,30,9],[36,8,30,10],[37,4,31,4],[37,5,31,5],[37,7,31,7,"mmkv"],[37,11,31,11],[37,12,31,12],[38,4,32,4],[38,11,32,11,"allKeys"],[38,18,32,18],[39,2,33,0],[40,0,33,1],[40,3]],"functionMap":{"names":["<global>","useMMKVKeys","useState$argument_0","useMMKVListener$argument_0","setKeys$argument_0"],"mappings":"AAA;OCa;wCCE,uBD;oBEC;gBCE;SDW;KFC;CDE"},"hasCjsExports":false},"type":"js/module"}]}